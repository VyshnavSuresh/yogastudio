<!DOCTYPE html>
{% load static %}
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
      <meta charset="utf-8" />

    <link href="{% static 'vendor/animate.css/animate.min.css' %}" rel="stylesheet">




  <link href="{% static 'vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">

    <title>YOGASTUDIO</title>
	<!-- BOOTSTRAP STYLES-->
    <link href="{% static 'css/bootstrap.css' %}" rel="stylesheet" />
     <!-- FONTAWESOME STYLES-->
    <link href="{% static 'css/font-awesome.css' %}" rel="stylesheet" />
        <!-- CUSTOM STYLES-->
    <link href="{% static 'css/custom.css' %}" rel="stylesheet" />
     <!-- GOOGLE FONTS-->
   <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel='stylesheet' type='text/css' />
<style type="text/css">
            table{

            width: 90%;
            padding: 12px;
            border-radius: 4px;
            resize: vertical;
            color: black;
            font-style: bold;
            font-family:Calibri;

            font-size: 20px;
        }
        th{
            width: 20%;
            padding: 12px;
            border-radius: 4px;
            resize: vertical;
            color: black;
            font-style: bold;
            font-family:Calibri;
            font-size: 20px;
        }
        tr{
          width: 90%;
            padding: 12px;
            border-radius: 4px;
            resize: vertical;
            color: black;
            font-style: bold;
            font-family:Calibri;
            font-size: 20px;
        }
        td{
          width: 90%;
            padding: 12px;
            border-radius: 4px;
            resize: vertical;
            color: black;
            font-style: bold;
            font-family:Calibri;
            font-size: 20px;

        }
        textarea{
            width: 40%;
            padding: 12px;
            border-radius: 4px;
            resize: vertical;
            color: black;
            font-style: bold;
            font-family:Calibri;
            font-size: 20px;

        }
        input[type=text]{
            width: 40%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
        }
       select{
            width: 40%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
        }
        input[type=password]{
            width:40%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;

        }
        input[type=email]{
            width: 40%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;

        }

        input[type=submit]
        {
            width: 20%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
        }
        .table-card {

       width:90%;
       margin: 0 auto; /* Added */
float: none; /* Added */
margin-bottom: 10px; /* Added */
margin-top:120px;


      background: white;
      border-radius: 2px;

      box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
    }

    .table-card .header {
      line-height: 64px;
      padding-left: 24px;
      padding-right: 14px;
    }

    .table-card .header .title {
      font-size: 20px;
    }

    .table-card .header .actions {
      float: right;
    }

    .table-card .header .actions a {
      color: rgba(0, 0, 0, 0.54);
      font-size: 24px;
      padding-left: 24px;
    }

    .table-card .table {
      padding: 0;
      margin: 0;
    }

    .table-card .table table,
    .table-card .table table tr,
    .table-card .table table > thead > tr > th,
    .table-card .table table > tbody > tr > td {
      padding: 0;
      margin: 0;
    }

    .table-card .table table > thead > tr > th {
      line-height: 56px;
      color: rgba(0, 0, 0, 0.54)
    }

    .table-card .table table > tbody > tr > td {
      line-height: 48px;
      word-wrap: break-word;
    }

    .table-card .table table > thead > tr > th:first-child,
    .table-card .table table > tbody > tr > td:first-child {
      padding-left: 50px;
    }

    .table-card .table table > thead > tr > th:last-child,
    .table-card .table table > tbody > tr > td:last-child {
      padding-right: 5px;
    }
.vl {
  border-left: 6px solid green;
  height: 500px;
}
  .course-name {
        font-size: 24px;
        font-weight: bold;
        text-align: center;
        color: #333;
        margin-bottom: 1em;
    }

.profile-pic {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  overflow: hidden;
}

.profile-pic img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.dropdown-menu>li>a:hover, .dropdown-menu>li>a:focus {
    background-color: transparent;
    color: green;
}
a.live-dot::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    background-color: red;
    border-radius: 50%;
    margin-right: 5px;

}

    </style>

</head>
<body>



    <div id="wrapper">
         <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="adjust-nav">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" style="color: green; font-size: 30px;"></i>&nbsp;YOGASTUDIO</a>


                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        {% if c_videos %}
<li><a  class="live-dot" style="color:green;">{{course.course}}</a></li>{% endif %}

                        <li class="profile-pic">
                            <img src="{{std.student_image.url}}">

                        </li>


                        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" style="color: green;">{{ std.first_name }} <span class="caret"></span></a>
  <ul class="dropdown-menu" role="menu">
    <li><a href="{% url 'yogaapp:studentviewprofile' %}" style="color: green;">Profile</a></li>
    <li><a href="{% url 'yogaapp:studentchangepassword' %}" style="color: green;">Change Password</a></li>
  </ul>
</li>





                        <li><a href="{% url 'yogaapp:logout' %}"  style="color: green;">Logout</a></li>
                    </ul>



                    <div class=" col-md-6 ml-auto mr-auto ">
                                <form class="search-form" action="{% url 'search_app:SearchResults' %}" method="GET">
    <input type="text" placeholder="Search courses.." name="q">
    <button type="submit" class="btn btn-success">Search</button>
</form>
                            </div>
                </div>

            </div>
        </div>
        <!-- /. NAV TOP  -->

        <nav class="navbar-default navbar-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav" id="main-menu" >

                       {% if c_videos %}


                   <li>
                    <a  href="{% url 'yogaapp:aboutcourse' c_id %}" style="color: green;"><i class="fa fa-book"></i>About Course</a></li>

 <li>
                    <a  href="{% url 'schedule:live_classes' c_id %}" style="color: green;"><i class="fa fa-video-camera"></i>Live Class</a></li>


                    <li><a  href="{% url 'schedule:student_attendance' c_id %}" style="color: green;"><i class="fa fa-check-circle"></i>Attendance</a></li>
                    <li><a  href="{% url 'schedule:attendance_graph' c_id %}" style="color: green;"><i class="fa fa-star"></i>Attendance Graph</a></li>
 <li>

                                <a href= "{% url 'chat:sentmsg' c_id %}" style="color: green;"><i class="fa fa-envelope"></i>Contact instructor</a>
                            </li>
                    <li>
                                <a href="{% url 'schedule:generate_certificate' c_id %}" style="color: green;"><i class="fa fa-bar-chart-o"></i>Certificate</a>
                              </li>

                    <div class="progress">
    <div class="progress-bar" id="progress_bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="background-color:green;">
      <label id="value">{{progress}}</label>
    </div>
  </div>
                                 {% endif %}

                    <li>
                        <a href= "{% url 'yogaapp:availablecourses' %}"  style="color: green;"><i class="fa fa-sitemap "></i>Available Courses</a>

                    </li>



<li>
                        <a href="{% url 'yogaapp:feedback' %}" style="color: green;"><i class="fa fa-edit "></i>Feedback </a>
                    </li>
                     <li>

                         <a href="{% url 'posecollection:pose_list' %}" style="color: green;"><i class="fa fa-adjust"></i>Pose Estimation</a>
                    </li>
                                        <li><a style="color: green;" href="{% url 'yogaapp:product' %}"><i class="fa fa-bar-chart-o"></i>Products</a></li>

                </ul>

            </div>

        </nav>

        <!-- /. NAV SIDE  -->
        <div id="page-wrapper" >
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
              {% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div class="{{ message.tags }}" style="color: black; padding: 10px; margin-bottom: 10px;">
        {% if message.tags %}
          {{ message }}
        {% endif %}
      </div>
    {% endfor %}
  </div>

  <script>
    setTimeout(function() {
      var messages = document.querySelector('.messages');
      messages.style.display = 'none';
    }, 5000); // hide messages after 5 seconds
  </script>
{% endif %}
{% block content %}
                         <section id="hero">
                   {% if video_key %}
                             <video style="width:100%;height:100%;"  id="video-player" controls>
                                 <source src="{{video_key.video_url}}">
                             </video>
                              <h3 id="video_title">{{video_key.title}}</h3>
                   {% else %}

    <div id="heroCarousel" data-bs-interval="5000" class="carousel slide carousel-fade" data-bs-ride="carousel">

      <ol class="carousel-indicators" id="hero-carousel-indicators"></ol>

      <div class="carousel-inner" role="listbox">

        <!-- Slide 1 -->
        <div class="carousel-item active" style="background-image: url({% static 'img/slide/groupyoga.jpg' %})">
          <div class="carousel-container">
            <div class="container">
              <h2 class="animate__animated animate__fadeInDown">STUDENT DASHBOARD</span></h2>
              <p class="animate__animated animate__fadeInUp">"YOGA IS THE JOURNEY OF THE  SELF, THROUGH THE SELF, TO THE SELF."<br>-THE BHAGAVAD GITA"</p>
              <a href="http://127.0.0.1:8000/#about" class="btn-get-started animate__animated animate__fadeInUp scrollto">Read More</a>
            </div>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="carousel-item" style="background-image:url({% static 'img/yogamat.jpg' %})">
          <div class="carousel-container">
            <div class="container">
              <h2 class="animate__animated animate__fadeInDown">EVOLVE IN YOGA: HEART AND SOUL</h2>
              <p class="animate__animated animate__fadeInUp">A complete body Yoga to deepen your pratice for strength, cardio, flexibility and balance. </p>
              <a href="register" class="btn-get-started animate__animated animate__fadeInUp scrollto">Join Now</a>
            </div>
          </div>
        </div>



      </div>

      <a class="carousel-control-prev" href="#heroCarousel" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bi bi-chevron-left" aria-hidden="true"></span>
      </a>

      <a class="carousel-control-next" href="#heroCarousel" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon bi bi-chevron-right" aria-hidden="true"></span>
      </a>

    </div>
                             {% endif %}
  </section>



{% if c_videos %}
                        <div class="row">
                            <h2 class="course-name">{{course.course}}</h2>
   {% for v in c_videos.object_list %}
 <div class="col-lg-4" style="margin-top:2em;height:30%">

          <video style="width:100%;" autoplay muted >
              <source src="{{v.video_url}}" type="video/mp4">
          </video>
          <h3><a href="{{v.get_course_video_url}}" style="text-decoration:None;">{{v.title}}</a></h3>
      </div>

   {% endfor %}






  <div class="mx-auto">
      {% if c_videos.paginator.num_pages > 1 %}

      <hr>
      <div class="text-center">
          {% for pg in c_videos.paginator.page_range %}
             <a href="?page={{pg}}" class="btn btn-light btn-sm {% if c_video.number == pg %} active {% endif %}">{{pg}}</a>
          {% endfor %}
      </div>
      {% endif %}
  </div>
<br>
 {% endif %}

{% endblock %}

            </div>







                    </div></div>
                  <hr />

                 <!-- /. ROW  -->
    </div>
             <!-- /. PAGE INNER  -->
            </div>
         <!-- /. PAGE WRAPPER  -->
        </div>

     <!-- /. WRAPPER  -->
    <!-- SCRIPTS -AT THE BOTTOM TO REDUCE THE LOAD TIME-->
    <!-- JQUERY SCRIPTS -->
    <script src="{% static 'js/jquery-1.10.2.js' %}"></script>
      <!-- BOOTSTRAP SCRIPTS -->
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!-- METISMENU SCRIPTS -->
    <script src="{% static 'js/jquery.metisMenu.js' %}"></script>
      <!-- CUSTOM SCRIPTS -->
    <script src="{% static 'js/custom.js' %}"></script>
        <script>
            window.addEventListener( "pageshow", function ( event ) {
  var historyTraversal = event.persisted ||
                         ( typeof window.performance != "undefined" &&
                              window.performance.navigation.type === 2 );
  if ( historyTraversal ) {

    window.location.reload();
  }
});



const video = document.getElementById('video-player');
const progressBar = document.getElementById('progress_bar');

//For progress bar
video.addEventListener('timeupdate', () => {
  const progress = video.currentTime / video.duration;

  const current_progress=document.getElementById('value').innerHTML;
  progressBar.style.width = `${current_progress * 100}%`;
  if(parseInt(progress*100)>current_progress){
    progressBar.style.width = `${progress * 100}%`;
    document.getElementById('value').innerHTML=parseInt(progress*100);
  }
  else{
    progressBar.style.width = `${current_progress}%`;
  }
});

//For Progress_saving

video.addEventListener("pause", (event) => {
  const progress =parseInt(video.currentTime / video.duration*100);
  const current_progress=document.getElementById('value').innerHTML;
  var course=document.getElementById("video_title").innerHTML;

  if(parseInt(progress*100)>current_progress){

    $.ajax({
      url:"/progress/"+progress+"/"+course,
      context: progress
    })
  }

});


        </script>

</body>
</html>
